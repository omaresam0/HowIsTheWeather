<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>How's The Weather?</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@2.1.0/build/pure-min.css" integrity="sha384-yHIFVG6ClnONEA5yB5DJXfW2/KC173DIQrYoZMEtBvGzmf0PKiGyNEqe9N6BNDBH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{url_for('static', filename='css/style.css')}}">
    <link rel="icon" type="image/x-icon" href="/static/weather.ico">


</head>

<body>

<script>
        {% if message %}
        // Display a pop up error msg when an invalid city is entered
        window.addEventListener('DOMContentLoaded', (event) => {
            alert("{{ message }}");
        });
        {% endif %}0
    </script>

<section class="hero">
   <div class="hero-inner">
    <h1 style="margin-bottom:70px">How's The Weather?</h1>
    <form method="POST">
     <div class="search">
     <input class="input" type="text" name="cityInput" placeholder=" City name" size=45"></input>
     <button type="submit" class="button-large pure-button" style="height:38px; width:60px;"  >Add</button>

     </div>
    </form>
   </div>

 <div class="container">
            <div class="columns">
                <div class="column is-offset-4 is-4">
                    {% if show_label %}
                    <span style="color: white">Scroll to view recently added cities</span>
                    {% endif %}
                    {% for weather in weatherData %}
                    <div class="box">
                        <article class="media">
                            <div class="media-left">
                                <figure class="image is-50x50">
                                    <img src="http://openweathermap.org/img/w/{{ weather.icon }}.png" alt="Image">
                                </figure>
                            </div>
                            <div class="media-content">
                                <div class="content">
                                    <p>
                                        <span class="title">{{ weather.city }}</span>
                                        <a class="btn btn-danger" href="/delete/{{weather.city}}"> Remove</a>

                                        <br>
                                        <span class="subtitle">{{ weather.temperature }}Â° F</span>
                                        <br> {{ weather.description }}
                                    </p>
                                </div>
                            </div>
                        </article>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

</section>
</div>

</body>
